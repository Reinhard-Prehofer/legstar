
package com.legstar.test.coxb.dplarcht.bind;

import com.legstar.coxb.host.HostException;
import com.legstar.coxb.ICobolComplexBinding;

import com.legstar.coxb.ICobolBinding;

import com.legstar.coxb.CobolBindingFactory;
import com.legstar.coxb.ICobolBindingFactory;
import com.legstar.coxb.common.CComplexBinding;
import com.legstar.coxb.ICobolBinaryBinding;
import com.legstar.coxb.ICobolStringBinding;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

import com.legstar.test.coxb.dplarcht.ObjectFactory;
import com.legstar.test.coxb.dplarcht.LsProgramsDataType;


/**
 * This class was generated by LegStar coxbgen version 1.1.
 * 2007-07-05T15:23:31.265+02:00
 * This class implements a bi-directional binding between a cobol structure and
 * a java object.
 */

public class LsProgramsDataTypeBinding 
             extends CComplexBinding {

    /** Jaxb object to which this cobol complex element is bound. */
    private LsProgramsDataType mJaxbObject;
  
    /** Indicates that the associated Jaxb object just came from the constructor
     * and doesn't need to be recreated. */
    private boolean mUnusedJaxbObject = false;
    
    /** Children of this complex binding. */
    
    /** Child bound to jaxb property LsProgramName(String). */
    public ICobolStringBinding lsProgramName;
    /** Child bound to jaxb property LsProgramType(String). */
    public ICobolStringBinding lsProgramType;
    /** Child bound to jaxb property LsProgramLanguage(String). */
    public ICobolStringBinding lsProgramLanguage;
    /** Child bound to jaxb property LsProgramLength(Integer). */
    public ICobolBinaryBinding lsProgramLength;
    /** Child bound to jaxb property LsProgramUsecount(Integer). */
    public ICobolBinaryBinding lsProgramUsecount;
    /** Child bound to jaxb property Filler113(String). */
    public ICobolStringBinding filler113;
            
    /** Logger. */
    private static final Log LOG
        = LogFactory.getLog(LsProgramsDataTypeBinding.class);
    
    /** Binding factory. */
    private static final ICobolBindingFactory BF
        = CobolBindingFactory.getBindingFactory();
    
    /** Static reference to Jaxb object factory to be used as default. */
    private static final ObjectFactory JF = new ObjectFactory();
    
    /** Current Jaxb object factory (Defaults to the static one but can be
     *  changed). */
    private ObjectFactory mJaxbObjectFactory = JF;
    
    /**
     * Constructor for a root Complex element without a bound JAXB object.
     */
    public LsProgramsDataTypeBinding() {
        this(null);
    }

    /**
     * Constructor for a root Complex element with a bound JAXB object.
     * 
     * @param jaxbObject the concrete JAXB object instance bound to this
     *        complex element
     */
    public LsProgramsDataTypeBinding(
            final LsProgramsDataType jaxbObject) {
        this("", "", null, jaxbObject);
    }

     /**
     * Constructor for a Complex element as a child of another element and
     * an associated JAXB object.
     * 
     * @param name the identifier for this binding
     * @param jaxbName name of field in parent JAXB object
     * @param jaxbObject the concrete JAXB object instance bound to this
     *        complex element
     * @param parentBinding a reference to the parent binding
     */
    public LsProgramsDataTypeBinding(
            final String name,
            final String jaxbName,
            final ICobolComplexBinding parentBinding,
            final LsProgramsDataType jaxbObject) {
        
        super(name, jaxbName, LsProgramsDataType.class, null, parentBinding);
        mJaxbObject = jaxbObject;
        if (mJaxbObject != null) {
            mUnusedJaxbObject = true;
        }
        initChildren();
    }

    /** Creates a binding property for each child. */
    private void initChildren() {
        if (LOG.isDebugEnabled()) {
            LOG.debug("Initializing started");
        }
        /* Create binding children instances */
        lsProgramName = BF.createStringBinding("LsProgramName", 
               "LsProgramName", String.class, this);
        lsProgramName.setByteLength(8);
        lsProgramName.setCobolName("LS-PROGRAM-NAME");
        lsProgramType = BF.createStringBinding("LsProgramType", 
               "LsProgramType", String.class, this);
        lsProgramType.setByteLength(12);
        lsProgramType.setCobolName("LS-PROGRAM-TYPE");
        lsProgramLanguage = BF.createStringBinding("LsProgramLanguage", 
               "LsProgramLanguage", String.class, this);
        lsProgramLanguage.setByteLength(12);
        lsProgramLanguage.setCobolName("LS-PROGRAM-LANGUAGE");
        lsProgramLength = BF.createBinaryBinding("LsProgramLength", 
               "LsProgramLength", Integer.class, this);
        lsProgramLength.setByteLength(4);
        lsProgramLength.setCobolName("LS-PROGRAM-LENGTH");
        lsProgramLength.setTotalDigits(9);
        lsProgramLength.setIsSigned(true);
        lsProgramUsecount = BF.createBinaryBinding("LsProgramUsecount", 
               "LsProgramUsecount", Integer.class, this);
        lsProgramUsecount.setByteLength(4);
        lsProgramUsecount.setCobolName("LS-PROGRAM-USECOUNT");
        lsProgramUsecount.setTotalDigits(9);
        lsProgramUsecount.setIsSigned(true);
        filler113 = BF.createStringBinding("Filler113", 
               "Filler113", String.class, this);
        filler113.setByteLength(24);
        filler113.setCobolName("FILLER-113");
        
        /* Add children to children list */
        getChildrenList().add(lsProgramName);
        getChildrenList().add(lsProgramType);
        getChildrenList().add(lsProgramLanguage);
        getChildrenList().add(lsProgramLength);
        getChildrenList().add(lsProgramUsecount);
        getChildrenList().add(filler113);

        if (LOG.isDebugEnabled()) {
            LOG.debug("Initializing successful");
        }
    }

    /** {@inheritDoc} */
    public final void createJaxbObject() throws HostException {
        /* Since this complex binding has a constructor that takes a
         * JAXB object, we might already have a Jaxb object that
         * was not used yet. */
        if (mUnusedJaxbObject && mJaxbObject != null) {
            mUnusedJaxbObject = false;
            return;
        }
        mJaxbObject = mJaxbObjectFactory.createLsProgramsDataType();
    }

    /** {@inheritDoc} */
    public final void setChildrenValues() throws HostException {

         /* Make sure there is an associated JAXB object*/
        if (mJaxbObject == null) {
            createJaxbObject();
        }
        
        /* Get JAXB property LsProgramName */
        if (LOG.isDebugEnabled()) {
            LOG.debug("Getting value from JAXB property "
                    + "LsProgramName"
                    + " value=" + mJaxbObject.getLsProgramName());
        }
        lsProgramName.setObjectValue(mJaxbObject.getLsProgramName());
        
        /* Get JAXB property LsProgramType */
        if (LOG.isDebugEnabled()) {
            LOG.debug("Getting value from JAXB property "
                    + "LsProgramType"
                    + " value=" + mJaxbObject.getLsProgramType());
        }
        lsProgramType.setObjectValue(mJaxbObject.getLsProgramType());
        
        /* Get JAXB property LsProgramLanguage */
        if (LOG.isDebugEnabled()) {
            LOG.debug("Getting value from JAXB property "
                    + "LsProgramLanguage"
                    + " value=" + mJaxbObject.getLsProgramLanguage());
        }
        lsProgramLanguage.setObjectValue(mJaxbObject.getLsProgramLanguage());
        
        /* Get JAXB property LsProgramLength */
        if (LOG.isDebugEnabled()) {
            LOG.debug("Getting value from JAXB property "
                    + "LsProgramLength"
                    + " value=" + mJaxbObject.getLsProgramLength());
        }
        lsProgramLength.setObjectValue(mJaxbObject.getLsProgramLength());
        
        /* Get JAXB property LsProgramUsecount */
        if (LOG.isDebugEnabled()) {
            LOG.debug("Getting value from JAXB property "
                    + "LsProgramUsecount"
                    + " value=" + mJaxbObject.getLsProgramUsecount());
        }
        lsProgramUsecount.setObjectValue(mJaxbObject.getLsProgramUsecount());
        
        /* Get JAXB property Filler113 */
        if (LOG.isDebugEnabled()) {
            LOG.debug("Getting value from JAXB property "
                    + "Filler113"
                    + " value=" + mJaxbObject.getFiller113());
        }
        filler113.setObjectValue(mJaxbObject.getFiller113());
        
    }

    /** {@inheritDoc} */
    @SuppressWarnings("unchecked")
    public final void setJaxbPropertyValue(final int index) throws HostException {
 
        ICobolBinding child = getChildrenList().get(index);
        
    	/* Children that are not bound to a jaxb property are ignored.
    	 * This includes Choices and dynamically generated counbters
    	 * for instance.  */
        if (!child.isBound()) {
            return;
        }
        
        Object value = child.getObjectValue(child.getJaxbType());
        if (LOG.isDebugEnabled()) {
            LOG.debug("Setting value of JAXB property "
                    + child.getJaxbName()
                    + " value=" + value);
        }
        /* Set the JAXB object property value from binding object */
        switch (index) {
        case 0:
            mJaxbObject.setLsProgramName((String) value);
            break;
        case 1:
            mJaxbObject.setLsProgramType((String) value);
            break;
        case 2:
            mJaxbObject.setLsProgramLanguage((String) value);
            break;
        case 3:
            mJaxbObject.setLsProgramLength((Integer) value);
            break;
        case 4:
            mJaxbObject.setLsProgramUsecount((Integer) value);
            break;
        case 5:
            mJaxbObject.setFiller113((String) value);
            break;
        default:
            break;
        }
    }
            
    /** {@inheritDoc} */
    public final Object getObjectValue(final Class type) throws HostException {
        if (type.equals(LsProgramsDataType.class)) {
            return mJaxbObject;
        } else {
            throw new HostException("Attempt to get binding " + getBindingName()
                    + " as an incompatible type " + type);
        }
    }

    /** {@inheritDoc} */
    public final void setObjectValue(final Object value) throws HostException {
        if (value == null) {
            mJaxbObject = null;
            return;
        }
        if (value.getClass().equals(LsProgramsDataType.class)) {
            mJaxbObject = (LsProgramsDataType) value;
        } else {
            throw new HostException("Attempt to set binding " + getBindingName()
                    + " from an incompatible value " + value);
        }
    }

    /**
     * @return the java object factory for objects creation
     */
    public final ObjectFactory getObjectFactory() {
        return mJaxbObjectFactory;
    }

    /**
     * @param jaxbObjectFactory the java object factory for objects creation 
     */
    public final void setObjectFactory(final Object jaxbObjectFactory) {
        mJaxbObjectFactory = (ObjectFactory) jaxbObjectFactory;
    }

    /** {@inheritDoc} */
    public final boolean isSet() {
        return (mJaxbObject != null);
    }

    /**
     * @return the bound JAXB object
     */
    public final LsProgramsDataType getLsProgramsDataType() {
        return mJaxbObject;
    }
    
}
