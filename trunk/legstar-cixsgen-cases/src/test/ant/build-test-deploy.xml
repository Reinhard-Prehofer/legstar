<?xml version="1.0" encoding="UTF-8"?>
<!-- =================================================================================
     This script iteratively runs the war deployment scripts for generated
     JAXWS endpoints.
  -->
<project basedir="../../.." default="deployAllServices" name="build">

	<!-- Ant-Contrib tasks. Needed for "foreach ", regex, switch, ...
	     (ant-contrib.jar must be in ant classpath) -->
	<taskdef resource="net/sf/antcontrib/antcontrib.properties"/>
		
	<target name="deployAllServices">
		<foreach target="deployService" param="file.name">
			<path>
				<fileset dir="${basedir}/src/main/resources" includes="**/build.xml"/>
			</path>
		</foreach>
	</target>

	<target name="deployService" description="Deploy a JAXWS Service">
		<echo>Processing ${file.name}</echo>
		<ant antfile="${file.name}"></ant>
  	</target>
   
</project>