<!-- =================================================================================
     This script copies some jar files from this project to the
     legstar-cixsgen-plugin project. Because the contact surface
     between these 2 projects is very small, this is more
     efficient than creating a full-blown dependency between them.
 -->
<project basedir="../../.." default="copyToPlugin">

	<!-- ===========================================================  -->
	<!-- Setup environment
	  -->
	<target name="init">
		
	    <property file="${basedir}/../legstar-pom/legstar-dev.properties"/>   
		<!-- Source directory  -->
	 	<property name="src.dir" value="${basedir}/target" />
		<!-- Source directory for cixsgen-model -->
	 	<property name="cixsgen-model-src.dir" value="${basedir}/../legstar-cixsgen-model/target" />
		<!-- Source directory for codegen -->
	 	<property name="codegen-src.dir" value="${basedir}/../legstar-codegen/target" />
		<!-- Target directory  -->
	 	<property name="dest.dir" value="${basedir}/../legstar-cixsgen-plugin/lib" />
		
	</target>

	<!-- ===========================================================  -->
	<!-- Copy files
	  -->
	<target name="copyToPlugin" depends="init">
		<copy todir="${dest.dir}">
			<fileset dir="${src.dir}">
				<include name="*.jar"/>
				<exclude name="*-sources.jar"/>
			</fileset>
			<fileset dir="${cixsgen-model-src.dir}">
				<include name="*.jar"/>
				<exclude name="*-sources.jar"/>
			</fileset>
			<fileset dir="${codegen-src.dir}">
				<include name="*.jar"/>
				<exclude name="*-sources.jar"/>
			</fileset>
			<fileset dir="${maven.repo}/commons-logging/commons-logging/1.1">
				<include name="*.jar"/>
				<exclude name="*-sources.jar"/>
			</fileset>
			<fileset dir="${maven.repo}/org/apache/velocity/velocity/1.5">
				<include name="*.jar"/>
				<exclude name="*-sources.jar"/>
			</fileset>
		</copy>
	</target>
	
</project>
