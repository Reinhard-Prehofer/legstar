<!-- =================================================================================
     This script generates an XML schema from a cobol source file. Since this
     script uses JNI and native libraries, you want to make sure that the
     distribution bin directory is in the PATH.
 -->
<project basedir="${antModel.productLocation}" default="signalSuccess" name="generate-XSD">
#**
Cobol to Xsd ant script Velocity Template.
@author Fady
@version 1.2
*#
## ==================================================================
## Generates an ant script for Cobol to Xsd generation
##

    <!-- ===========================================================  -->
    <!-- Setup environment
    -->
    <target name="init">
    
        <!-- Cobol to Xsd generator ant task  -->
        <taskdef name="c2scgen"
            classname="com.legstar.schemagen.COXBSchemaGenerator">
            <classpath>
                <fileset dir="${basedir}" includes="lib/*.jar"/>
            </classpath>
        </taskdef> 
    
    </target>

    <!-- ===========================================================  -->
    <!-- Generate a Cobol-annotated XML Schema.
    -->
    <target name="generateXSD" depends="init">
        <echo message="Generating annotated XML schema ${antModel.targetXsdFileName}" />
        <c2scgen
            namespace="${antModel.namespace}"
            jaxbPackageName="${antModel.jaxbPackageName}"
            sourceCobolFilePath="${antModel.sourceCobolFilePath}"
            targetDir="${antModel.targetDir}"
            targetXsdFileName="${antModel.targetXsdFileName}"
        />
    </target>
  
    <!-- ===========================================================  -->
    <!-- Delete the probe file to signal success
    -->
    <target name="signalSuccess" depends="generateXSD">
        <delete file="${antModel.probeFile}" quiet="true"/>
    </target>
    
</project>
